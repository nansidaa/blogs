(window.webpackJsonp=window.webpackJsonp||[]).push([[78],{537:function(t,s,a){"use strict";a.r(s);var n=a(2),e=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("blockquote",[s("p",[t._v("📒 如何在nodeJs中定义全局变量。")])]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("在nodejs中使用global定义全局变量，定义的变量，可以在引入的文件中也可以访问到该变量，例如 a"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("js "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" global"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("xxx "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'xxx'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("index"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("js"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("xxx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("js 也可以访问到该变量，在浏览器中我们定义的全局变量都在window"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("nodejs在global，不同的环境还需要判断，于是在ECMAScript "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2020")]),t._v(" 出现了一个global全局变量，在nodejs环境会自动切换成global ，浏览器环境自动切换window非常方便\n\nglobal"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'2222'")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//这个只能在node环境中访问到 浏览器访问不到")]),t._v("\nglobalThis"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'2222'")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//这个浏览器和node环境都能访问到 自动识别环境")]),t._v("\n\n由于nodejs中没有"),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("DOM")]),t._v("和"),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("BOM")]),t._v("，除了这些"),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("API")]),t._v("，其他的ECMAscriptAPI基本都能用\n例如：setTimeout setInterval Promise Math  console  Date "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("fetch")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("node v18"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" 等"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n")])])]),s("blockquote",[s("p",[t._v("📒 nodeJs内置api。")])]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("__dirname：表示当前模块在目录的绝对路径\n__filename：表示你当前模块文件的绝对路径，包括文件名和扩展名\nrequire module：引用模块和模块的到导出\n")])])]),s("blockquote",[s("p",[t._v("📒 process")]),t._v(" "),s("blockquote",[s("p",[t._v("🔔 process.argv:这是一个包含命令行参数的数组。第一个元素是Node.js的执行路径，第二个元素是当前执行的javaScript文件的路径，之后的元素是传递给脚本的命令行参数。\n🔔 process.env:这是一个包含当前环境变量的对象。您可以通过 process.env 访问并操作环境变量process.cwd():这个方法返回当前工作目录的路径。")])])]),t._v(" "),s("blockquote",[s("blockquote",[s("p",[t._v("🔔 process.on(event，1istener):用于注册事件监听器。您可以使用 process.on 监听诸如 exit 、uncaughtexception等事件，并在事件发生时执行相应的回调函数")])])]),t._v(" "),s("blockquote",[s("blockquote",[s("p",[t._v("🔔 process.exit([code]):用于退出当前的Node,js进程。您可以提供一个可选的退出码作为参数,process.pid:这个届性返回当前进程的PID(进程ID)。")])])]),t._v(" "),s("blockquote",[s("blockquote",[s("p",[t._v("🔔 这些只是 process 对象的一些常用属性和方法，还有其他许多属性和方法可用于监控进程、设置信号处理发送IPC消息等。")])])]),t._v(" "),s("blockquote",[s("blockquote",[s("p",[t._v("🔔 需要注意的是，proces:对象是一个全局对象，可以在任何块中直接访问，无需导入或定义。")])])]),t._v(" "),s("blockquote",[s("p",[t._v("📒 Buffer")])]),t._v(" "),s("ol",[s("li",[t._v("创建 Buffer 实例:")])]),t._v(" "),s("blockquote",[s("blockquote",[s("p",[t._v("🔔 Buffer,alloc(size[，fi11[，encoding]]):创建一个指定大小的新的 Buffer 实例，初始内容为零。 fill 参数可用于填充缓冲区，encoding 参数指定填充的字符编码。\n🔔 Buffer.from(array):创建一个包含给定数组的 Buffer 实例。0Buffer,from(string[，encoding]〉:创建一个包含给定字符串的 Buffer 实例.0")])])]),t._v(" "),s("ol",{attrs:{start:"2"}},[s("li",[t._v("读取和写入数据:")])]),t._v(" "),s("blockquote",[s("blockquote",[s("p",[t._v("🔔 buffer[index]:通过索引读取或写入 Buffer 实例中的特定字节。\n🔔 buffer.length:获取 Buffer 实例的字节长度。\n🔔 buffer.tostring([encoding[,start[,end]]]):将 Buffer 实例转换为字符串。")])])]),t._v(" "),s("ol",{attrs:{start:"3"}},[s("li",[t._v("转换数据:")])]),t._v(" "),s("blockquote",[s("blockquote",[s("p",[t._v("🔔 buffer,toJSON():将 Buffer 实例转换为JSON对象。\n🔔 buffer,slice([start[，end]]):返回一个新的 Buffer 实例，其中包含原始 Buffer 实例的部分内容。")])])]),t._v(" "),s("ol",{attrs:{start:"4"}},[s("li",[t._v("其他方法:")])]),t._v(" "),s("blockquote",[s("blockquote",[s("p",[t._v("🔔 Buffer.isBuffer(abj):检直一个对象是否是 Buffer 实例。\n🔔 Buffer,concat(list[，totalLength]):将一组 Buffer 实例或字节数组连接起来形成一个新的0Buffer 实例。\n🔔 请注意，从Nodejs 6.0版本开始， Buffer 构造函数的使用已被弃用，推荐使用 Buffer.a1loc()、Buffer.from()等方法来创建 Buffer 实例,\n🔔 Buffer 类在处理文件、网络通信、加密和解密等操作中非常有用，尤其是在需要处理二进制数据时")])])]),t._v(" "),s("blockquote",[s("p",[t._v("📒 由于node没有dom和Bom 只能用ECMA  所以有个库可以支持node使用dom和bom  包名为 jsdom")])]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("yarn add jsdom\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("JSDOM")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"jsdom"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//引用包 并且将方法结构出来    ")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" dom "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("JSDOM")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token template-string"}},[s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("<!DOCTYPE html><div id='app'></div>")]),s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" 因为是个promise 所以要实例化 里面第一个参数是html接口\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" document "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" dom"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("window"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("document"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 上面实例化以后 拿到提供的dom")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" fs "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'fs'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//引用node方法 fs读写文件方法")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("fetch")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://api.thecatapi.com/v1/images/search?limit=10&page=1"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//调用接口")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("res")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" res"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("json")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//需要返回一个json格式 所以需要json（）")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("data")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"data"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" app "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getElementById")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"app"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//拿到上述实例化参数的 html里的app标签")]),t._v("\n    data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("forEach")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("item")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" img "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("createElement")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"img"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      img"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("src "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" item"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("url"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      img"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("style"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("width "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"200px"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      img"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("style"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("height "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"200px"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      app"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("appendChild")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("img"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//将循环完的图片格式传入app标签里")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    fs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("writeFileSync")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"./index.html"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" dom"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("serialize")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//用serialize方法将dom 序列化为字符串 然后用fs方法中的writeFileSync写入到index.html文件")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n")])])])])}),[],!1,null,null,null);s.default=e.exports}}]);